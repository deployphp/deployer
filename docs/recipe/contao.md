<!-- DO NOT EDIT THIS FILE! -->
<!-- Instead edit recipe/contao.php -->
<!-- Then run bin/docgen -->

# contao

[Source](/recipe/contao.php)

* Requires
  * [symfony](/docs/recipe/symfony.md)

## Configuration
### public_path
[Source](https://github.com/deployphp/deployer/blob/master/recipe/contao.php#L11)

Overrides [public_path](/docs/recipe/provision/website.md#public_path) from `recipe/provision/website.php`.

The public path is the path to be set as DocumentRoot and is defined in the `composer.json` of the project
but defaults to `public` from Contao 5.0 on.
This path is relative from the [current_path](/docs/recipe/common.md#current_path), see [`recipe/provision/website.php`](/docs/recipe/provision/website.php#public_path).



### bin/console
[Source](https://github.com/deployphp/deployer/blob/master/recipe/contao.php#L29)

Overrides [bin/console](/docs/recipe/symfony.md#bin/console) from `recipe/symfony.php`.





### contao_version
[Source](https://github.com/deployphp/deployer/blob/master/recipe/contao.php#L33)






## Tasks

### contao:migrate
[Source](https://github.com/deployphp/deployer/blob/master/recipe/contao.php#L47)

Run Contao migrations.

This task updates the database. A database backup is saved automatically as a default.

To automatically drop the obsolete database structures, you can override the task as follows:

```php
task('contao:migrate', function () {
    run('{{bin/php}} {{bin/console}} contao:migrate --with-deletes {{console_options}}');
});
```


### contao:manager:download
[Source](https://github.com/deployphp/deployer/blob/master/recipe/contao.php#L53)

Download the Contao Manager.

Downloads the `contao-manager.phar.php` into the public path.


### contao:install:lock
[Source](https://github.com/deployphp/deployer/blob/master/recipe/contao.php#L59)

Lock the Contao Install Tool.

Locks the Contao install tool which is useful if you don't use it.


### contao:manager:lock
[Source](https://github.com/deployphp/deployer/blob/master/recipe/contao.php#L65)

Lock the Contao Manager.

Locks the Contao Manager which is useful if you only need the API of the Manager rather than the UI.


### contao:maintenance:enable
[Source](https://github.com/deployphp/deployer/blob/master/recipe/contao.php#L71)

Enable maintenance mode.




### contao:maintenance:disable
[Source](https://github.com/deployphp/deployer/blob/master/recipe/contao.php#L86)

Disable maintenance mode.




### deploy
[Source](https://github.com/deployphp/deployer/blob/master/recipe/contao.php#L98)

Deploy the project.




This task is group task which contains next tasks:
* [deploy:prepare](/docs/recipe/common.md#deployprepare)
* [deploy:vendors](/docs/recipe/deploy/vendors.md#deployvendors)
* [contao:maintenance:enable](/docs/recipe/contao.md#contaomaintenanceenable)
* [contao:migrate](/docs/recipe/contao.md#contaomigrate)
* [contao:maintenance:disable](/docs/recipe/contao.md#contaomaintenancedisable)
* [deploy:publish](/docs/recipe/common.md#deploypublish)


