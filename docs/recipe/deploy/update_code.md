<!-- DO NOT EDIT THIS FILE! -->
<!-- Instead edit recipe/deploy/update_code.php -->
<!-- Then run bin/docgen -->

# update_code

[Source](/recipe/deploy/update_code.php)


## Configuration
### branch
[Source](https://github.com/deployphp/deployer/blob/master/recipe/deploy/update_code.php#L10)

Determines which branch to deploy. Can be overridden with CLI option `--branch`.
If not specified, will get current git HEAD branch as default branch to deploy.

```php title="Default value"
'HEAD'
```


### auto_ssh_keygen
[Source](https://github.com/deployphp/deployer/blob/master/recipe/deploy/update_code.php#L13)

Automatically populate `known_hosts` file based on [repository](/docs/recipe/common.md#repository) config.

```php title="Default value"
true
```


### update_code_strategy
[Source](https://github.com/deployphp/deployer/blob/master/recipe/deploy/update_code.php#L19)

Sets deploy:update_code strategy.
Can be one of:
- archive
- clone (if you need `.git` dir in your [release_path](/docs/recipe/deploy/release.md#release_path))

```php title="Default value"
'archive'
```


### sub_directory
[Source](https://github.com/deployphp/deployer/blob/master/recipe/deploy/update_code.php#L25)

Specifies a sub directory within the repository to deploy.
Works only when [`update_code_strategy`](#update_code_strategy) is set to `archive` (default).

Example: 
 - set value to `src` if you want to deploy the folder that lives at `/src/api`.
 - set value to `src/api` if you want to deploy the folder that lives at `/src/api`.

Note: do not use a leading `/`!

```php title="Default value"
null
```



## Tasks

### deploy:update_code
[Source](https://github.com/deployphp/deployer/blob/master/recipe/deploy/update_code.php#L25)

Updates code.

Update code at [release_path](/docs/recipe/deploy/release.md#release_path) on host.


